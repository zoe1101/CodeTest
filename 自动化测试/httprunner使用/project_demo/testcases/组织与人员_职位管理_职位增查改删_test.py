# NOTE: Generated By HttpRunner v3.1.11
# FROM: testcases\组织与人员-职位管理-职位增查改删.yml


import sys
from pathlib import Path
sys.path.insert(0, str(Path(__file__).parent.parent))




from httprunner import HttpRunner, Config, Step, RunRequest, RunTestCase

from testcases.erp_login_test import TestCaseErpLogin as ErpLogin


class TestCaseErpDemp(HttpRunner):

    

    config = Config("testcase description").variables(**{'test_data': '测试工程师'}).verify(False)

    teststeps = [
        
            Step(RunTestCase("系统登录").call(ErpLogin)),
        
            Step(RunRequest("/app/common/position/save")
                 .post("http://erp2.hzb-it.com/app/common/position/save")
                 .with_headers(**{'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Connection': 'keep-alive', 'Content-Length': '26', 'Content-Type': 'application/json;charset=UTF-8', 'Cookie': 'Hm_lvt_a40372507a0e32054c266b4dce474b80=1684833484; Hm_lpvt_a40372507a0e32054c266b4dce474b80=1684833484; access-token=eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUwMDYzOTAsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.EcH7pKun3_-Qe1dX_zv3YN-YzuQIL6QFklG5EHptAKI; sidebarStatus=1', 'Host': 'erp2.hzb-it.com', 'Origin': 'http://erp2.hzb-it.com', 'Referer': 'http://erp2.hzb-it.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.42', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUwMDYzOTAsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.EcH7pKun3_-Qe1dX_zv3YN-YzuQIL6QFklG5EHptAKI'}).with_cookies(**{'Hm_lpvt_a40372507a0e32054c266b4dce474b80': '1684833484', 'Hm_lvt_a40372507a0e32054c266b4dce474b80': '1684833484', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUwMDYzOTAsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.EcH7pKun3_-Qe1dX_zv3YN-YzuQIL6QFklG5EHptAKI', 'sidebarStatus': '1'})
                 .with_json({'name': '${test_data}'})
                 .validate().assert_equal("status_code", 200).assert_equal('headers."Content-Type"', "application/json").assert_equal("body.errCode", 0).assert_equal("body.data", None).assert_equal("body.msg", "提交成功")),
        
            Step(RunRequest("/app/common/position/list")
                 .get("http://erp2.hzb-it.com/app/common/position/list")
                 .with_params(**{'name': '${test_data}', 'page': '1', 'pageSize': '30'})
                 .with_headers(**{'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Connection': 'keep-alive', 'Cookie': 'Hm_lvt_a40372507a0e32054c266b4dce474b80=1684833484; sidebarStatus=1; access-token=eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk; Hm_lpvt_a40372507a0e32054c266b4dce474b80=1684997378', 'Host': 'erp2.hzb-it.com', 'Referer': 'http://erp2.hzb-it.com/?', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.42', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk'})
                 .with_cookies(**{'Hm_lpvt_a40372507a0e32054c266b4dce474b80': '1684997378', 'Hm_lvt_a40372507a0e32054c266b4dce474b80': '1684833484', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk', 'sidebarStatus': '1'})
                 .extract().with_jmespath('body.records[0].id', 'test_data_id')
                 .validate().assert_equal("status_code", 200).assert_equal('headers."Content-Type"', "application/json")),
        
            Step(RunRequest("/app/common/position/save")
                 .post("http://erp2.hzb-it.com/app/common/position/save")
                 .with_headers(**{'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Connection': 'keep-alive', 'Content-Length': '31', 'Content-Type': 'application/json;charset=UTF-8', 'Cookie': 'Hm_lvt_a40372507a0e32054c266b4dce474b80=1684833484; sidebarStatus=1; access-token=eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk; Hm_lpvt_a40372507a0e32054c266b4dce474b80=1684997378', 'Host': 'erp2.hzb-it.com', 'Origin': 'http://erp2.hzb-it.com', 'Referer': 'http://erp2.hzb-it.com/?', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.42', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk'}).with_cookies(**{'Hm_lpvt_a40372507a0e32054c266b4dce474b80': '1684997378', 'Hm_lvt_a40372507a0e32054c266b4dce474b80': '1684833484', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk', 'sidebarStatus': '1'})
                 .with_json({'id': '$test_data_id', 'name': '${test_data}改'})
                 .validate().assert_equal('headers."Content-Type"', "application/json")),
        
            Step(RunRequest("/app/common/position/delete")
                 .post("http://erp2.hzb-it.com/app/common/position/delete")
                 .with_headers(**{'Accept': 'application/json, text/plain, */*', 'Accept-Encoding': 'gzip, deflate', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6', 'Connection': 'keep-alive', 'Content-Length': '4', 'Content-Type': 'application/json;charset=UTF-8', 'Cookie': 'Hm_lvt_a40372507a0e32054c266b4dce474b80=1684833484; sidebarStatus=1; access-token=eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk; Hm_lpvt_a40372507a0e32054c266b4dce474b80=1684997378', 'Host': 'erp2.hzb-it.com', 'Origin': 'http://erp2.hzb-it.com', 'Referer': 'http://erp2.hzb-it.com/?', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.42', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk'})
                 .with_cookies(**{'Hm_lpvt_a40372507a0e32054c266b4dce474b80': '1684997378', 'Hm_lvt_a40372507a0e32054c266b4dce474b80': '1684833484', 'access-token': 'eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2ODUxNTc1ODEsInVzZXJEZXRhaWxzIjoie1wicm9sZXNcIjpbe1wiY29kZVwiOlwic3VwZXJhZG1pblwiLFwibmFtZVwiOlwi6LaF57qn566h55CG5ZGYXCIsXCJpZFwiOjF9XSxcIm9yZ0lkXCI6MSxcInBhc3N3b3JkXCI6XCIkMmEkMTAkTkVzck55QklQR0VMeDlEcElibS94LlZ3QU1PemhtWDRjT2ZPNGp6d1JKZjZYaXpZcnhqSTJcIixcImlkZW50aXR5XCI6MSxcIm5hbWVcIjpcIueuoeeQhuWRmFwiLFwiaWRcIjoxLFwic3RhdGVcIjoxLFwidXNlcm5hbWVcIjpcImFkbWluXCJ9In0.ahvKUIibsGNqqhNn3zX5kv67koo0orqauTKRlj13bWk', 'sidebarStatus': '1'})
                 .with_json(['$test_data_id'])
                 .validate().assert_equal("status_code", 200).assert_equal('headers."Content-Type"', "application/json").assert_equal("body.errCode", 0).assert_equal("body.data", None).assert_equal("body.msg", "提交成功")),
        
    ]

if __name__ == "__main__":
    TestCaseErpDemp().test_start()
